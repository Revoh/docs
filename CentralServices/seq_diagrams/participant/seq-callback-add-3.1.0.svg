<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1648px" preserveAspectRatio="none" style="width:1522px;height:1648px;" version="1.1" viewBox="0 0 1522 1648" width="1522px" zoomAndPan="magnify"><defs><filter height="300%" id="f1odmsirn6h5zy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="293" x="615.5" y="22.9951">3.1.0 Add Participant Callback Details</text><rect fill="#FFFFE0" height="1602.7734" style="stroke: #A80036; stroke-width: 1.0;" width="940" x="529" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="939.5" y="46.3638">Central Services</text><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="1407.1797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="126.5938"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="1361.9141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="171.8594"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="637.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="858" y="361.1875"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="462.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="858" y="1027.5078"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1195" y="405.4531"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="251.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1195" y="651.6484"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1412" y="434.5859"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1412" y="680.7813"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="1400.1797" style="stroke: #000000; stroke-width: 2.0;" width="1498" x="13" y="133.5938"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="943.6563" style="stroke: #000000; stroke-width: 2.0;" width="1478" x="23" y="583.1172"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1099" x="33" y="960.1094"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1099" x="33" y="1035.5078"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1478" x="23" y="1284.6406"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="116.5938" y2="1550.7734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="600" x2="600" y1="116.5938" y2="1550.7734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="862.5" x2="862.5" y1="116.5938" y2="1550.7734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1199.5" x2="1199.5" y1="116.5938" y2="1550.7734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1417" x2="1417" y1="116.5938" y2="1550.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="113.292">HUB OPERATOR</text><ellipse cx="102" cy="43.2969" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M102,51.2969 L102,78.2969 M89,59.2969 L115,59.2969 M102,78.2969 L89,93.2969 M102,78.2969 L115,93.2969 " fill="none" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="43" y="1562.7686">HUB OPERATOR</text><ellipse cx="102" cy="1576.0703" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M102,1584.0703 L102,1611.0703 M89,1592.0703 L115,1592.0703 M102,1611.0703 L89,1626.0703 M102,1611.0703 L115,1626.0703 " fill="none" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="533" y="113.292">Central Service API</text><path d="M579.5,72.2969 L579.5,96.2969 M579.5,84.2969 L596.5,84.2969 " fill="none" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="608.5" cy="84.2969" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="533" y="1562.7686">Central Service API</text><path d="M579.5,1570.0703 L579.5,1594.0703 M579.5,1582.0703 L596.5,1582.0703 " fill="none" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="608.5" cy="1582.0703" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="795.5" y="113.292">Participant Handler</text><ellipse cx="863" cy="84.2969" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="859,72.2969,865,67.2969,863,72.2969,865,77.2969,859,72.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="795.5" y="1562.7686">Participant Handler</text><ellipse cx="863" cy="1582.0703" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="859,1570.0703,865,1565.0703,863,1570.0703,865,1575.0703,859,1570.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1143.5" y="113.292">Participant DAO</text><ellipse cx="1200" cy="84.2969" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1188" x2="1212" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1143.5" y="1562.7686">Participant DAO</text><ellipse cx="1200" cy="1582.0703" fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1188" x2="1212" y1="1596.0703" y2="1596.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1369" y="113.292">Central Store</text><path d="M1399,64.2969 C1399,54.2969 1417,54.2969 1417,54.2969 C1417,54.2969 1435,54.2969 1435,64.2969 L1435,90.2969 C1435,100.2969 1417,100.2969 1417,100.2969 C1417,100.2969 1399,100.2969 1399,90.2969 L1399,64.2969 " fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1399,64.2969 C1399,74.2969 1417,74.2969 1417,74.2969 C1417,74.2969 1435,74.2969 1435,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1369" y="1562.7686">Central Store</text><path d="M1399,1576.0703 C1399,1566.0703 1417,1566.0703 1417,1566.0703 C1417,1566.0703 1435,1566.0703 1435,1576.0703 L1435,1602.0703 C1435,1612.0703 1417,1612.0703 1417,1612.0703 C1417,1612.0703 1399,1612.0703 1399,1602.0703 L1399,1576.0703 " fill="#FEFECE" filter="url(#f1odmsirn6h5zy)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1399,1576.0703 C1399,1586.0703 1417,1586.0703 1417,1586.0703 C1417,1586.0703 1435,1586.0703 1435,1576.0703 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="1407.1797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="126.5938"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="1361.9141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="171.8594"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="637.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="858" y="361.1875"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="462.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="858" y="1027.5078"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1195" y="405.4531"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="251.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1195" y="651.6484"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1412" y="434.5859"/><rect fill="#FFFFFF" filter="url(#f1odmsirn6h5zy)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1412" y="680.7813"/><path d="M13,133.5938 L212,133.5938 L212,140.5938 L202,150.5938 L13,150.5938 L13,133.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1400.1797" style="stroke: #000000; stroke-width: 2.0;" width="1498" x="13" y="133.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="28" y="146.6606">Add Callback Details</text><polygon fill="#A80036" points="583,167.8594,593,171.8594,583,175.8594,587,171.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="589" y1="171.8594" y2="171.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="114" y="166.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="456" x="127" y="166.7935">Request to add callback details - POST - /paticipants/{name}/endpoints</text><path d="M112,184.8594 L112,330.8594 L337,330.8594 L337,194.8594 L327,184.8594 L112,184.8594 " fill="#FFFF00" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M327,184.8594 L327,194.8594 L337,194.8594 L327,184.8594 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="118" y="201.9263">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="118" y="217.0591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="134" y="232.1919">payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="150" y="247.3247">endpoint: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="166" y="262.4575">type: &lt;typeValue&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="166" y="277.5903">value: &lt;endpointValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="146" y="292.7231">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="134" y="307.856">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="118" y="322.9888">}</text><polygon fill="#A80036" points="846,357.1875,856,361.1875,846,365.1875,850,361.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="852" y1="361.1875" y2="361.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="612" y="356.1216">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="625" y="356.1216">Add Callback details for Participant</text><polygon fill="#A80036" points="1183,401.4531,1193,405.4531,1183,409.4531,1187,405.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="868" x2="1189" y1="405.4531" y2="405.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="875" y="392.8208">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="888" y="385.2544">Fetch Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="888" y="400.3872">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="974" y="400.3872">3200</text><polygon fill="#A80036" points="1400,430.5859,1410,434.5859,1400,438.5859,1404,434.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1205" x2="1406" y1="434.5859" y2="434.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1212" y="429.52">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1225" y="429.52">Fetch Participant</text><polygon fill="#FFFFE0" filter="url(#f1odmsirn6h5zy)" points="1381,447.5859,1453,447.5859,1463,458.5859,1453,470.5859,1381,470.5859,1371,458.5859,1381,447.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1383" y="463.6528">participant</text><polygon fill="#A80036" points="1216,492.8516,1206,496.8516,1216,500.8516,1212,496.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1210" x2="1416" y1="496.8516" y2="496.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1222" y="491.7856">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1235" y="491.7856">Retrieved Participant</text><polygon fill="#A80036" points="879,521.9844,869,525.9844,879,529.9844,875,525.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="1199" y1="525.9844" y2="525.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="885" y="520.9185">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="898" y="520.9185">Return Participant</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="868" x2="910" y1="555.1172" y2="555.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="910" x2="910" y1="555.1172" y2="568.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="869" x2="910" y1="568.1172" y2="568.1172"/><polygon fill="#A80036" points="879,564.1172,869,568.1172,879,572.1172,875,568.1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="875" y="550.0513">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="888" y="550.0513">Validate DFSP</text><path d="M23,583.1172 L87,583.1172 L87,590.1172 L77,600.1172 L23,600.1172 L23,583.1172 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="943.6563" style="stroke: #000000; stroke-width: 2.0;" width="1478" x="23" y="583.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="596.1841">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="102" y="595.3276">[Validate participant (success)]</text><polygon fill="#A80036" points="1183,647.6484,1193,651.6484,1183,655.6484,1187,651.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="868" x2="1189" y1="651.6484" y2="651.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="875" y="631.4497">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="888" y="616.3169">Add Callback details for Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="888" y="631.4497">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="974" y="631.4497">2003/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="1010" y="631.4497">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="1050" y="631.4497">Service unavailable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1181" y="631.4497"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="888" y="646.5825">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="974" y="646.5825">2001/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="1010" y="646.5825">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="1050" y="646.5825">Internal Server Error</text><polygon fill="#A80036" points="1400,676.7813,1410,680.7813,1400,684.7813,1404,680.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1205" x2="1406" y1="680.7813" y2="680.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1212" y="675.7153">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1225" y="675.7153">Persist Participant Endpoint</text><polygon fill="#FFFFE0" filter="url(#f1odmsirn6h5zy)" points="1353,723.7813,1481,723.7813,1491,734.7813,1481,746.7813,1353,746.7813,1343,734.7813,1353,723.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1355" y="739.8481">participantEndpoint</text><path d="M1210,756.9141 L1210,871.9141 L1455,871.9141 L1455,766.9141 L1445,756.9141 L1210,756.9141 " fill="#D3D3D3" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1445,756.9141 L1445,766.9141 L1455,766.9141 L1445,756.9141 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="1216" y="773.981">If (endpoint exists &amp;&amp; isActive = 1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1232" y="789.1138">oldEndpoint.isActive = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1232" y="804.2466">insert endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="1216" y="819.3794">Else</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1232" y="834.5122">insert endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1216" y="849.645">End</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1232" y="864.7778"/><polygon fill="#A80036" points="879,898.9766,869,902.9766,879,906.9766,875,902.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="1199" y1="902.9766" y2="902.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="885" y="897.9106">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="907" y="897.9106">Return status</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="868" x2="910" y1="932.1094" y2="932.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="910" x2="910" y1="932.1094" y2="945.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="869" x2="910" y1="945.1094" y2="945.1094"/><polygon fill="#A80036" points="879,941.1094,869,945.1094,879,949.1094,875,945.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="875" y="927.0435">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="897" y="927.0435">Validate status</text><path d="M33,960.1094 L97,960.1094 L97,967.1094 L87,977.1094 L33,977.1094 L33,960.1094 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1099" x="33" y="960.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="48" y="973.1763">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="112" y="972.3198">[Validate status (success)]</text><polygon fill="#A80036" points="616,994.375,606,998.375,616,1002.375,612,998.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="862" y1="998.375" y2="998.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="622" y="993.3091">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="644" y="993.3091">Return Status Code 201</text><polygon fill="#A80036" points="118,1023.5078,108,1027.5078,118,1031.5078,114,1027.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="594" y1="1027.5078" y2="1027.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1022.4419">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="146" y="1022.4419">Return Status Code 201</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1132" y1="1036.5078" y2="1036.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="38" y="1046.7183">[Validate status (failure) / Error]</text><path d="M873,1055.3125 L873,1080.3125 L930,1080.3125 L930,1065.3125 L920,1055.3125 L873,1055.3125 " fill="#FF0000" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M920,1055.3125 L920,1065.3125 L930,1065.3125 L920,1055.3125 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="879" y="1072.3794">Error!</text><path d="M873,1094.4453 L873,1209.4453 L1118,1209.4453 L1118,1104.4453 L1108,1094.4453 L873,1094.4453 " fill="#FFFF00" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1108,1094.4453 L1108,1104.4453 L1118,1104.4453 L1108,1094.4453 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="879" y="1111.5122">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="895" y="1126.645">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="911" y="1141.7778">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="927" y="1156.9106">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="927" y="1172.0435">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="911" y="1187.1763">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="895" y="1202.3091">}</text><polygon fill="#A80036" points="616,1236.5078,606,1240.5078,616,1244.5078,612,1240.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="857" y1="1240.5078" y2="1240.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="622" y="1235.4419">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="644" y="1235.4419">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="690" y="1235.4419">Error code</text><polygon fill="#A80036" points="118,1265.6406,108,1269.6406,118,1273.6406,114,1269.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="594" y1="1269.6406" y2="1269.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1264.5747">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="146" y="1264.5747">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="192" y="1264.5747">Error code</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1501" y1="1285.6406" y2="1285.6406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="28" y="1295.8511">[Validate participant (failure)]</text><path d="M873,1304.4453 L873,1329.4453 L1005,1329.4453 L1005,1314.4453 L995,1304.4453 L873,1304.4453 " fill="#FF0000" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M995,1304.4453 L995,1314.4453 L1005,1314.4453 L995,1304.4453 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="879" y="1321.5122">Validation failure!</text><path d="M873,1343.5781 L873,1458.5781 L1186,1458.5781 L1186,1353.5781 L1176,1343.5781 L873,1343.5781 " fill="#FFFF00" filter="url(#f1odmsirn6h5zy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1176,1343.5781 L1176,1353.5781 L1186,1353.5781 L1176,1343.5781 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="879" y="1360.645">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="895" y="1375.7778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="911" y="1390.9106">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="927" y="1406.0435">"errorCode": 3200,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="927" y="1421.1763">"errorDescription": "FSP id Not Found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="911" y="1436.3091">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="895" y="1451.4419">}</text><polygon fill="#A80036" points="616,1485.6406,606,1489.6406,616,1493.6406,612,1489.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="862" y1="1489.6406" y2="1489.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="622" y="1484.5747">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="644" y="1484.5747">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="690" y="1484.5747">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="776" y="1484.5747">3200</text><polygon fill="#A80036" points="118,1514.7734,108,1518.7734,118,1522.7734,114,1518.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="594" y1="1518.7734" y2="1518.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="124" y="1513.7075">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="146" y="1513.7075">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="192" y="1513.7075">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="278" y="1513.7075">3200</text><!--
@startuml
title 3.1.0 Add Participant Callback Details

autonumber



actor "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant DAO" as PARTICIPANT_DAO
database "Central Store" as DB

box "Central Services" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant DB
end box


activate OPERATOR
group Add Callback Details
    OPERATOR -> CSAPI: Request to add callback details - POST - /paticipants/{name}/endpoints
    note right of OPERATOR #yellow
        Message:
        {
            payload: {
                endpoint: {
                    type: <typeValue>,
                    value: <endpointValue>
               }
            }
        }
    end note

    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Add Callback details for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant \n<color #FF0000><b>Error code:</b> 3200</color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO -> DB: Fetch Participant
    activate DB
    hnote over DB #lightyellow
        participant
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant
    deactivate DB
    PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return Participant
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Add Callback details for Participant \n<color #FF0000><b>Error code:</b> 2003/<b>Msg:</b> Service unavailable </color> \n<color #FF0000><b>Error code:</b> 2001/<b>Msg:</b> Internal Server Error </color>
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Persist Participant Endpoint
        activate DB
        hnote over DB #lightyellow
            participantEndpoint
        end note
        deactivate DB
        note right of PARTICIPANT_DAO #lightgrey
            If (endpoint exists && isActive = 1)
                oldEndpoint.isActive = 0
                insert endpoint
            Else
                insert endpoint
            End
                
        end note
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return status
        deactivate PARTICIPANT_DAO
        PARTICIPANT_HANDLER -> PARTICIPANT_HANDLER: Validate status
        alt Validate status (success)
            PARTICIPANT_HANDLER - ->CSAPI: Return Status Code 201
            deactivate PARTICIPANT_HANDLER
            CSAPI - ->OPERATOR: Return Status Code 201
        else Validate status (failure) / Error
            note right of PARTICIPANT_HANDLER #red: Error!
            activate PARTICIPANT_HANDLER
            note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": <Error Code>,
                        "errorDescription": <Msg>,
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code</b></color>
            CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code</b></color>
            
        end

    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": 3200,
                        "errorDescription": "FSP id Not Found",
                    }
                }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3200</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3200</color>

    end
    deactivate CSAPI
    deactivate OPERATOR
end
@enduml

PlantUML version 1.2018.08(Sun Jun 24 12:31:00 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>