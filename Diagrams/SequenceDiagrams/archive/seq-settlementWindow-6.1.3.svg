<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1075.2px" preserveAspectRatio="none" style="width:1048px;height:1075px;" version="1.1" viewBox="0 0 1048 1075" width="1048px" zoomAndPan="magnify"><defs><filter height="300%" id="f2kx1owkncizw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247.2" x="401.2" y="18.8281">Request settlementWindow by parameters.</text><rect fill="#FFB6C1" height="1039.0156" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="89.6" x="172.8" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="185.2" y="37.6453">Central HUB</text><rect fill="#90EE90" height="1039.0156" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="326.8" x="370" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99.2" x="483.8" y="37.6453">Settlement Service</text><rect fill="#FFFFE0" height="1039.0156" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="91.2" x="779.2" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="781.6" y="37.6453">Central Services</text><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="853.7375" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="213.6" y="117.8297"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="520.1984" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="432" y="234.5203"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="181.4359" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="432" y="790.1313"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="532.1625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="644" y="257.9688"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="265.5203" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="820.8" y="293.4172"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="860.386" style="stroke: #000000; stroke-width: 1.600000023841858;" width="1028.8" x="10.4" y="123.4297"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="407.0297" style="stroke: #000000; stroke-width: 1.600000023841858;" width="683.2" x="18.4" y="571.1859"/><rect fill="#FFFFFF" height="216.8484" style="stroke: none; stroke-width: 0.800000011920929;" width="683.2" x="18.4" y="761.3672"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="217.6" x2="217.6" y1="109.8297" y2="997.4156"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="435.6" x2="435.6" y1="109.8297" y2="997.4156"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="648" x2="648" y1="109.8297" y2="997.4156"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="824.8" x2="824.8" y1="109.8297" y2="997.4156"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="78.4" x="176" y="107.4672">Hub Employee</text><ellipse cx="217.6" cy="51.0391" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="6.4" ry="6.4" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><path d="M217.6,57.4391 L217.6,79.0391 M207.2,63.8391 L228,63.8391 M217.6,79.0391 L207.2,91.0391 M217.6,79.0391 L228,91.0391 " fill="none" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="78.4" x="176" y="1007.4438">Hub Employee</text><ellipse cx="217.6" cy="1017.8063" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="6.4" ry="6.4" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><path d="M217.6,1024.2063 L217.6,1045.8063 M207.2,1030.6063 L228,1030.6063 M217.6,1045.8063 L207.2,1057.8063 M217.6,1045.8063 L228,1057.8063 " fill="none" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="120.8" x="373.2" y="107.4672">Settlement Service API</text><path d="M419.6,74.2391 L419.6,93.4391 M419.6,83.8391 L433.2,83.8391 " fill="none" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="442.8" cy="83.8391" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="120.8" x="373.2" y="1007.4438">Settlement Service API</text><path d="M419.6,1013.0063 L419.6,1032.2063 M419.6,1022.6063 L433.2,1022.6063 " fill="none" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="442.8" cy="1022.6063" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="602.4" y="107.4672">Settlement DAO</text><ellipse cx="648" cy="83.8391" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><line style="stroke: #A80036; stroke-width: 1.600000023841858;" x1="638.4" x2="657.6" y1="95.0391" y2="95.0391"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="602.4" y="1007.4438">Settlement DAO</text><ellipse cx="648" cy="1022.6063" fill="#FEFECE" filter="url(#f2kx1owkncizw)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><line style="stroke: #A80036; stroke-width: 1.600000023841858;" x1="638.4" x2="657.6" y1="1033.8063" y2="1033.8063"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72" x="786.4" y="107.4672">Central Store</text><path d="M810.4,67.8391 C810.4,59.8391 824.8,59.8391 824.8,59.8391 C824.8,59.8391 839.2,59.8391 839.2,67.8391 L839.2,88.6391 C839.2,96.6391 824.8,96.6391 824.8,96.6391 C824.8,96.6391 810.4,96.6391 810.4,88.6391 L810.4,67.8391 " fill="#FEFECE" filter="url(#f2kx1owkncizw)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M810.4,67.8391 C810.4,75.8391 824.8,75.8391 824.8,75.8391 C824.8,75.8391 839.2,75.8391 839.2,67.8391 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="72" x="786.4" y="1007.4438">Central Store</text><path d="M810.4,1017.8063 C810.4,1009.8063 824.8,1009.8063 824.8,1009.8063 C824.8,1009.8063 839.2,1009.8063 839.2,1017.8063 L839.2,1038.6063 C839.2,1046.6063 824.8,1046.6063 824.8,1046.6063 C824.8,1046.6063 810.4,1046.6063 810.4,1038.6063 L810.4,1017.8063 " fill="#FEFECE" filter="url(#f2kx1owkncizw)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M810.4,1017.8063 C810.4,1025.8063 824.8,1025.8063 824.8,1025.8063 C824.8,1025.8063 839.2,1025.8063 839.2,1017.8063 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="853.7375" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="213.6" y="117.8297"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="520.1984" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="432" y="234.5203"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="181.4359" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="432" y="790.1313"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="532.1625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="644" y="257.9688"/><rect fill="#FFFFFF" filter="url(#f2kx1owkncizw)" height="265.5203" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="820.8" y="293.4172"/><path d="M10.4,123.4297 L343.2,123.4297 L343.2,129.0297 L335.2,137.0297 L10.4,137.0297 L10.4,123.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="860.386" style="stroke: #000000; stroke-width: 1.600000023841858;" width="1028.8" x="10.4" y="123.4297"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296.8" x="22.4" y="134.2844">Retrieve SettlementWindow properties per parameters.</text><path d="M225.6,141.2781 L225.6,210.0781 L444.8,210.0781 L444.8,149.2781 L436.8,141.2781 L225.6,141.2781 " fill="#FFFF00" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M436.8,141.2781 L436.8,149.2781 L444.8,149.2781 L436.8,141.2781 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90.4" x="230.4" y="155.3328">Filtering Params:</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="95.2" x="230.4" y="167.5813">&amp;participantId={id}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="71.2" x="230.4" y="179.8297">&amp;state={state}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="202.4" x="230.4" y="192.0781">&amp;fromDateTime={yyyy-mm-ddThh:mm}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="188.8" x="230.4" y="204.3266">&amp;toDateTime={yyyy-mm-ddThh:mm}</text><polygon fill="#A80036" points="422.4,231.3203,430.4,234.5203,422.4,237.7203,425.6,234.5203" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="221.6" x2="427.2" y1="234.5203" y2="234.5203"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="227.2" y="230.975">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="184.8" x="237.6" y="230.975">GET - /settlementWindows/{params}</text><polygon fill="#A80036" points="634.4,254.7688,642.4,257.9688,634.4,261.1688,637.6,257.9688" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="440" x2="639.2" y1="257.9688" y2="257.9688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="445.6" y="254.4234">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="136" x="456" y="254.4234">Request settlementWindow</text><polygon fill="#A80036" points="811.2,290.2172,819.2,293.4172,811.2,296.6172,814.4,293.4172" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="652" x2="816" y1="293.4172" y2="293.4172"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="657.6" y="283.9961">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="136" x="668" y="277.8719">Request settlementWindow</text><text fill="#FF0000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58.4" x="668" y="290.1203">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="25.6" x="729.6" y="290.1203">2001</text><polygon fill="#FFFFE0" filter="url(#f2kx1owkncizw)" points="745.6,304.3141,904,304.3141,912,337.9141,904,371.5141,745.6,371.5141,737.6,337.9141,745.6,304.3141" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="99.2" x="747.2" y="317.5688">participantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="92.8" x="747.2" y="329.8172">transferParticipant</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="90.4" x="747.2" y="342.0656">transferFulfilment</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="92.8" x="747.2" y="354.3141">settlementWindow</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="155.2" x="747.2" y="366.5625">settlementWindowStateChange</text><path d="M617.6,379.9563 L617.6,534.3563 L1028,534.3563 L1028,387.9563 L1020,379.9563 L617.6,379.9563 " fill="#D3D3D3" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M1020,379.9563 L1020,387.9563 L1028,387.9563 L1020,379.9563 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="211.2" x="622.4" y="394.0109">NOTES for constructing query to database</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="625.6" y="406.2594"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="175.2" x="622.4" y="418.5078">(participantId) {&amp;participantId={id}}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="231.2" x="622.4" y="430.7563">participantCurrency -&gt; (participantCurencyId)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="168.8" x="622.4" y="443.0047">transferParticipant -&gt; (transferId)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="111.2" x="622.4" y="455.2531">transferFulfilment  -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118.4" x="736.8" y="455.2531">(settlementWindowId)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="625.6" y="467.5016"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="110.4" x="622.4" y="479.75">settlementWindow -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66.4" x="736" y="479.75">(createDate)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="316.8" x="635.2" y="491.9984">{createDate &lt;= &amp;fromDateTime &amp; createDate &gt;= &amp;toDateTime}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="625.6" y="504.2469"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="172.8" x="622.4" y="516.4953">settlementWindowStateChange -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217.6" x="798.4" y="516.4953">(settlementWindowStateId &amp; createDate)</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="264" x="635.2" y="528.7438">NOTE - settlementWindowStateChange.createDate =</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="902.4" y="528.7438">changeDate</text><polygon fill="#A80036" points="660.8,555.7375,652.8,558.9375,660.8,562.1375,657.6,558.9375" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="656" x2="824" y1="558.9375" y2="558.9375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="665.6" y="555.3922">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="676" y="555.3922">Return result</text><path d="M18.4,571.1859 L68,571.1859 L68,576.7859 L60,584.7859 L18.4,584.7859 L18.4,571.1859 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="407.0297" style="stroke: #000000; stroke-width: 1.600000023841858;" width="683.2" x="18.4" y="571.1859"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="30.4" y="582.0406">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="80" y="581.2938">[Return settlementWindow(s)]</text><polygon fill="#A80036" points="448.8,598.6344,440.8,601.8344,448.8,605.0344,445.6,601.8344" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="444" x2="643.2" y1="601.8344" y2="601.8344"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="453.6" y="598.2891">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="134.4" x="464" y="598.2891">Successful - return results</text><path d="M277.6,612.4828 L277.6,730.0828 L424.8,730.0828 L424.8,620.4828 L416.8,612.4828 L277.6,612.4828 " fill="#FFFF00" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M416.8,612.4828 L416.8,620.4828 L424.8,620.4828 L416.8,612.4828 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="282.4" y="626.5375">[</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="288.8" y="638.7859">{</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="33.6" x="295.2" y="651.0344">"id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="88.8" x="295.2" y="663.2828">"reason": "string",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="80" x="295.2" y="675.5313">"state": "string",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="115.2" x="295.2" y="687.7797">"createdDate": "string",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="295.2" y="700.0281">"changedDate": "string"</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="288.8" y="712.2766">}</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="282.4" y="724.525">]</text><polygon fill="#A80036" points="230.4,751.5188,222.4,754.7188,230.4,757.9188,227.2,754.7188" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="225.6" x2="435.2" y1="754.7188" y2="754.7188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="235.2" y="751.1734">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="70.4" x="245.6" y="751.1734">Return results</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="18.4" x2="701.6" y1="762.1672" y2="762.1672"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="22.4" y="770.675">[</text><text fill="#FF0000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128.8" x="25.6" y="770.675">settlementWindow not found</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="154.4" y="770.675">]</text><polygon fill="#A80036" points="448.8,786.9313,440.8,790.1313,448.8,793.3313,445.6,790.1313" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="444" x2="647.2" y1="790.1313" y2="790.1313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="453.6" y="786.5859">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="178.4" x="464" y="786.5859">Unsuccessful result - return ERROR</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="440" x2="473.6" y1="813.8281" y2="813.8281"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="473.6" x2="473.6" y1="813.8281" y2="824.2281"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="440.8" x2="473.6" y1="824.2281" y2="824.2281"/><polygon fill="#A80036" points="448.8,821.0281,440.8,824.2281,448.8,827.4281,445.6,824.2281" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="445.6" y="810.0344">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="84.8" x="456" y="810.0344">Update Event log</text><path d="M444,834.6281 L444,866.6281 L609.6,866.6281 L609.6,842.6281 L601.6,834.6281 L444,834.6281 " fill="#ADD8E6" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M601.6,834.6281 L601.6,842.6281 L609.6,842.6281 L601.6,834.6281 " fill="#ADD8E6" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="109.6" x="448.8" y="848.6828">Log ERROR Messages.</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="148.8" x="448.8" y="860.9313">Update Event log with ERROR.</text><path d="M26.4,878.325 L26.4,947.125 L424.8,947.125 L424.8,886.325 L416.8,878.325 L26.4,878.325 " fill="#FFFF00" filter="url(#f2kx1owkncizw)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M416.8,878.325 L416.8,886.325 L424.8,886.325 L416.8,878.325 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="31.2" y="892.3797">{</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="37.6" y="904.6281">"status": 0,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="375.2" x="37.6" y="916.8766">"code": "(ERROR response code eg. '404' - Defined in swagger definition))",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="96" x="37.6" y="929.125">"message": "string"</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="31.2" y="941.3735">}</text><polygon fill="#A80036" points="226.4,968.3672,218.4,971.5672,226.4,974.7672,223.2,971.5672" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="221.6" x2="435.2" y1="971.5672" y2="971.5672"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="231.2" y="968.0219">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="68.8" x="241.6" y="968.0219">Return ERROR</text><!--
@startuml
title Request settlementWindow by parameters.

autonumber

actor "Hub Employee" as OPERATOR

boundary "Settlement Service API" as SSAPI
entity "Settlement DAO" as SETTLE_DAO

database "Central Store" as DB

box "Central HUB" #LightPink
    participant OPERATOR
end box

box "Settlement Service" #LightGreen
    participant SSAPI
    participant SETTLE_DAO
end box

box "Central Services" #LightYellow
    participant DB
end box


group Retrieve SettlementWindow properties per parameters.
    activate OPERATOR
    note right of OPERATOR #Yellow
        **Filtering Params:**
        &participantId={id}
        &state={state}
        &fromDateTime={yyyy-mm-ddThh:mm}
        &toDateTime={yyyy-mm-ddThh:mm}
    end note
    OPERATOR -> SSAPI: GET - /settlementWindows/{params}
    activate SSAPI
    SSAPI -> SETTLE_DAO: Request settlementWindow
    activate SETTLE_DAO
    SETTLE_DAO -> DB: Request settlementWindow \n<color #FF0000><b>Error code:</b> 2001</color>
    activate DB
    hnote over DB #LightYellow
        participantCurrency
        transferParticipant
        transferFulfilment
        settlementWindow
        settlementWindowStateChange
    end hnote
    note over DB #LightGray
        NOTES for constructing query to database

        (participantId) {&participantId={id}}
        participantCurrency -> (participantCurencyId)
        transferParticipant -> (transferId)
        transferFulfilment  -> **(settlementWindowId)**

        settlementWindow -> **(createDate)**
            {createDate <= &fromDateTime & createDate >= &toDateTime}

        settlementWindowStateChange -> **(settlementWindowStateId & createDate)**
            NOTE - settlementWindowStateChange.createDate = **changeDate**
    end note
    SETTLE_DAO <- - DB: Return result
    deactivate DB
    alt Return settlementWindow(s)
        SSAPI <- - SETTLE_DAO: Successful - return results
        note left of SSAPI #Yellow
          [
            {
              "id": 0,
              "reason": "string",
              "state": "string",
              "createdDate": "string",
              "changedDate": "string"
            }
          ]
        end note
        OPERATOR <- - SSAPI: Return results
        deactivate SSAPI
    else <color #FF0000><b>settlementWindow not found</b></color>
        SSAPI <- - SETTLE_DAO: Unsuccessful result - return ERROR
        deactivate SETTLE_DAO
        activate SSAPI
        SSAPI -> SSAPI: Update Event log
        note right of SSAPI #LightBlue
            Log ERROR Messages.
            Update Event log with ERROR.
        end note
        note left of SSAPI #Yellow
            {
              "status": 0,
              "code": "(ERROR response code eg. '404' - Defined in swagger definition))",
              "message": "string"
            }
        end note
        OPERATOR <- - SSAPI: Return ERROR
        deactivate SSAPI
    deactivate OPERATOR
    end
end
@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1136-b29
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>