<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1150px" preserveAspectRatio="none" style="width:1837px;height:1150px;" version="1.1" viewBox="0 0 1837 1150" width="1837px" zoomAndPan="magnify"><defs><filter height="300%" id="f127c1dph3ffh9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="835.75" y="23.5352">2.3.0. Transfer Timeout</text><rect fill="#D3D3D3" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="186" x="4" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="7" y="47.0566">Financial Service Providers</text><rect fill="#ADD8E6" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="361" x="192" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="294" y="47.0566">ML API Adapter Service</text><rect fill="#FFFFE0" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="1255.5" x="555" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="1132.25" y="47.0566">Central Service</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="427.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="645.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1250" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1563" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="848.9609" style="stroke: #000000; stroke-width: 2.0;" width="1803.5" x="23" y="170.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="354.9922" style="stroke: #000000; stroke-width: 2.0;" width="1267.5" x="549" y="281.0176"/><rect fill="#FFFFFF" height="308.3711" style="stroke: none; stroke-width: 1.0;" width="1267.5" x="549" y="327.6387"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1783.5" x="33" y="679.3203"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1724.5" x="92" y="880.1836"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="67" x2="67" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="126" x2="126" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="251" x2="251" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="432" x2="432" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="650" x2="650" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="901" x2="901" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1112" x2="1112" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1255" x2="1255" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1408" x2="1408" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1567.5" x2="1567.5" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1732.5" x2="1732.5" y1="153.7754" y2="1036.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="43" y="134.334">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="46" y="150.8223">Payer</text><ellipse cx="67.5" cy="63.7988" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M67.5,71.7988 L67.5,98.7988 M54.5,79.7988 L80.5,79.7988 M67.5,98.7988 L54.5,113.7988 M67.5,98.7988 L80.5,113.7988 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="43" y="1049.2715">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="46" y="1065.7598">Payer</text><ellipse cx="67.5" cy="1078.7129" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M67.5,1086.7129 L67.5,1113.7129 M54.5,1094.7129 L80.5,1094.7129 M67.5,1113.7129 L54.5,1128.7129 M67.5,1113.7129 L80.5,1128.7129 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="102" y="134.334">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="104" y="150.8223">Payee</text><ellipse cx="126.5" cy="63.7988" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M126.5,71.7988 L126.5,98.7988 M113.5,79.7988 L139.5,79.7988 M126.5,98.7988 L113.5,113.7988 M126.5,98.7988 L139.5,113.7988 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="102" y="1049.2715">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="104" y="1065.7598">Payee</text><ellipse cx="126.5" cy="1078.7129" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M126.5,1086.7129 L126.5,1113.7129 M113.5,1094.7129 L139.5,1094.7129 M126.5,1113.7129 L113.5,1128.7129 M126.5,1113.7129 L139.5,1128.7129 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="196" y="150.8223">ML API Adapter</text><path d="M230.5,109.2871 L230.5,133.2871 M230.5,121.2871 L247.5,121.2871 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="259.5" cy="121.2871" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="196" y="1049.2715">ML API Adapter</text><path d="M230.5,1056.2246 L230.5,1080.2246 M230.5,1068.2246 L247.5,1068.2246 " fill="none" filter="url(#f127c1dph3ffh9)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="259.5" cy="1068.2246" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="227" x="316" y="150.8223">ML API Notification Event Handler</text><ellipse cx="432.5" cy="121.2871" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="428.5,109.2871,434.5,104.2871,432.5,109.2871,434.5,114.2871,428.5,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="227" x="316" y="1049.2715">ML API Notification Event Handler</text><ellipse cx="432.5" cy="1068.2246" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="428.5,1056.2246,434.5,1051.2246,432.5,1056.2246,434.5,1061.2246,428.5,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="559" y="150.8223">Transfer Timeout Handler</text><ellipse cx="650.5" cy="121.2871" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="646.5,109.2871,652.5,104.2871,650.5,109.2871,652.5,114.2871,646.5,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="559" y="1049.2715">Transfer Timeout Handler</text><ellipse cx="650.5" cy="1068.2246" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="646.5,1056.2246,652.5,1051.2246,650.5,1056.2246,652.5,1061.2246,646.5,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="756" y="114.2871"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="752" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="276" x="759" y="138.8223">Topic-{currency}-DFSPn-Position-Abort</text><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="756" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="752" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="276" x="759" y="1060.2715">Topic-{currency}-DFSPn-Position-Abort</text><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1064" y="114.2871"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1060" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1067" y="138.8223">Event-Topic</text><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1064" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1060" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1067" y="1060.2715">Event-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1175" y="150.8223">Position Event Handler</text><ellipse cx="1255" cy="121.2871" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1251,109.2871,1257,104.2871,1255,109.2871,1257,114.2871,1251,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1175" y="1049.2715">Position Event Handler</text><ellipse cx="1255" cy="1068.2246" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1251,1056.2246,1257,1051.2246,1255,1056.2246,1257,1061.2246,1251,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1349" y="114.2871"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1345" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1352" y="138.8223">Transfer-Topic</text><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1349" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1345" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1352" y="1060.2715">Transfer-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1486.5" y="150.8223">Transfer Event Handler</text><ellipse cx="1568" cy="121.2871" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1564,109.2871,1570,104.2871,1568,109.2871,1570,114.2871,1564,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1486.5" y="1049.2715">Transfer Event Handler</text><ellipse cx="1568" cy="1068.2246" fill="#FEFECE" filter="url(#f127c1dph3ffh9)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1564,1056.2246,1570,1051.2246,1568,1056.2246,1570,1061.2246,1564,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1663.5" y="114.2871"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1659.5" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1666.5" y="138.8223">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1663.5" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f127c1dph3ffh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1659.5" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1666.5" y="1060.2715">Notification-Topic</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="427.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="645.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1250" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1563" y="163.7754"/><path d="M23,170.7754 L173,170.7754 L173,177.7754 L163,187.7754 L23,187.7754 L23,170.7754 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="848.9609" style="stroke: #000000; stroke-width: 2.0;" width="1803.5" x="23" y="170.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="38" y="184.3438">Transfer Expiry</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="608" x="556" y="213.0859"/><polygon fill="#EEEEEE" points="556,213.0859,620,213.0859,620,220.0859,610,230.0859,556,230.0859,556,213.0859" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="569" y="227.6543">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="752" y="246.6543">Timeout Handler Consume {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="928" y="246.6543">2.3.1.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="928" x2="964" y1="248.6543" y2="248.6543"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="964" y="246.6543">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="756" y="261.9648"/><path d="M549,281.0176 L611,281.0176 L611,288.0176 L601,298.0176 L549,298.0176 L549,281.0176 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="354.9922" style="stroke: #000000; stroke-width: 2.0;" width="1267.5" x="549" y="281.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="564" y="294.5859">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="237" x="626" y="293.6523">[transferStateId == 'RECEIVED_PREPARE']</text><polygon fill="#A80036" points="1721,315.6387,1731,319.6387,1721,323.6387,1725,319.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="1727" y1="319.6387" y2="319.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="662.5" y="314.8965">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="675.5" y="314.8965">Produce message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="549" x2="1816.5" y1="328.6387" y2="328.6387"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="554" y="339.2734">[transferStateId == 'RESERVED']</text><polygon fill="#A80036" points="889,359.9043,899,363.9043,889,367.9043,893,363.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="895" y1="363.9043" y2="363.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="662.5" y="359.1621">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="675.5" y="359.1621">Produce message</text><polygon fill="#A80036" points="912,389.2148,902,393.2148,912,397.2148,908,393.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="906" x2="1249" y1="393.2148" y2="393.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="918" y="388.4727">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="931" y="388.4727">Consume message</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="721" x="749" y="401.2148"/><polygon fill="#EEEEEE" points="749,401.2148,813,401.2148,813,408.2148,803,418.2148,749,418.2148,749,401.2148" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="762" y="415.7832">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="895.5" y="434.7832">Position Hander Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="189" x="1130.5" y="434.7832">seq-position-1.3.3-abort.svg</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1130.5" x2="1319.5" y1="436.7832" y2="436.7832"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1319.5" y="434.7832">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="899.5" y="450.0938"/><polygon fill="#A80036" points="1396,479.457,1406,483.457,1396,487.457,1400,483.457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1260" x2="1402" y1="483.457" y2="483.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1267" y="478.7148">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1280" y="478.7148">Produce message</text><polygon fill="#A80036" points="1419,533.7676,1409,537.7676,1419,541.7676,1415,537.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1413" x2="1562" y1="537.7676" y2="537.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1425" y="533.0254">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1438" y="533.0254">Consume message</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="748.5" x="1057" y="545.7676"/><polygon fill="#EEEEEE" points="1057,545.7676,1121,545.7676,1121,552.7676,1111,562.7676,1057,562.7676,1057,545.7676" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1070" y="560.3359">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1291.25" y="579.3359">Transfer Handler Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="1531.25" y="579.3359">2.3.3.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1531.25" x2="1567.25" y1="581.3359" y2="581.3359"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1567.25" y="579.3359">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1295.25" y="594.6465"/><polygon fill="#A80036" points="1721,624.0098,1731,628.0098,1721,632.0098,1725,628.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573" x2="1727" y1="628.0098" y2="628.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1580" y="623.2676">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1593" y="623.2676">Produce message</text><polygon fill="#A80036" points="1721,660.3203,1731,664.3203,1721,668.3203,1725,664.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="437.5" x2="1727" y1="664.3203" y2="664.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="444.5" y="659.5781">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="457.5" y="659.5781">Consume message</text><path d="M33,679.3203 L100,679.3203 L100,686.3203 L90,696.3203 L33,696.3203 L33,679.3203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1783.5" x="33" y="679.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="48" y="692.8887">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="284" x="115" y="691.9551">[action IN ['timeout-received', 'timeout-reserved']]</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="1765.5" x="40" y="721.6309"/><polygon fill="#EEEEEE" points="40,721.6309,104,721.6309,104,728.6309,94,738.6309,40,738.6309,40,721.6309" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="53" y="736.1992">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="773.25" y="755.1992">Send notification to Participant (Payer) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="47" x="1021.25" y="755.1992">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1021.25" x2="1068.25" y1="757.1992" y2="757.1992"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1068.25" y="755.1992">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="777.25" y="770.5098"/><polygon fill="#A80036" points="78.5,799.873,68.5,803.873,78.5,807.873,74.5,803.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="426.5" y1="803.873" y2="803.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="84.5" y="799.1309">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="97.5" y="799.1309">Send callback notification</text><polygon fill="#A80036" points="1721,861.1836,1731,865.1836,1721,869.1836,1725,865.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="437.5" x2="1727" y1="865.1836" y2="865.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="444.5" y="860.4414">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="457.5" y="860.4414">Consume message</text><path d="M92,880.1836 L159,880.1836 L159,887.1836 L149,897.1836 L92,897.1836 L92,880.1836 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1724.5" x="92" y="880.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="107" y="893.752">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="174" y="892.8184">[action == 'timeout-reserved']</text><rect fill="#FFFFFF" filter="url(#f127c1dph3ffh9)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="1706.5" x="99" y="922.4941"/><polygon fill="#EEEEEE" points="99,922.4941,163,922.4941,163,929.4941,153,939.4941,99,939.4941,99,922.4941" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="112" y="937.0625">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="801.75" y="956.0625">Send notification to Participant (Payee) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="47" x="1051.75" y="956.0625">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1051.75" x2="1098.75" y1="958.0625" y2="958.0625"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1098.75" y="956.0625">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="805.75" y="971.373"/><polygon fill="#A80036" points="137.5,1000.7363,127.5,1004.7363,137.5,1008.7363,133.5,1004.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131.5" x2="426.5" y1="1004.7363" y2="1004.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="143.5" y="999.9941">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="165.5" y="999.9941">Send callback notification</text><!--
@startuml
title 2.3.0. Transfer Timeout

autonumber


actor "DFSP1\nPayer" as DFSP1
actor "DFSP2\nPayee" as DFSP2
boundary "ML API Adapter" as MLAPI
control "ML API Notification Event Handler" as NOTIFY_HANDLER
control "Transfer Timeout Handler" as EXP_HANDLER
collections "Topic-{currency}-DFSPn-Position-Abort" as TOPIC_POSITION_DFSP
control "Position Event Handler" as POS_HANDLER
collections "Transfer-Topic" as TOPIC_TRANSFERS
control "Transfer Event Handler" as TRANS_HANDLER
collections "Notification-Topic" as TOPIC_NOTIFICATIONS
collections "Event-Topic" as TOPIC_EVENT

box "Financial Service Providers" #lightGray
	participant DFSP1
	participant DFSP2
end box

box "ML API Adapter Service" #LightBlue
	participant MLAPI
	participant NOTIFY_HANDLER
end box

box "Central Service" #LightYellow
    participant EXP_HANDLER
    participant TOPIC_POSITION_DFSP
    participant TOPIC_EVENT
    participant POS_HANDLER
    participant TOPIC_TRANSFERS
    participant TRANS_HANDLER
    participant TOPIC_NOTIFICATIONS
end box

activate NOTIFY_HANDLER
activate EXP_HANDLER
activate POS_HANDLER
activate TRANS_HANDLER
group Transfer Expiry
    |||
    ref over EXP_HANDLER, TOPIC_EVENT :  Timeout Handler Consume {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg 2.3.1.]]} \n
    alt transferStateId == 'RECEIVED_PREPARE'
        EXP_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    else transferStateId == 'RESERVED'
        EXP_HANDLER -> TOPIC_POSITION_DFSP: Produce message
        TOPIC_POSITION_DFSP <- POS_HANDLER: Consume message
        ref over TOPIC_POSITION_DFSP, TOPIC_TRANSFERS :  Position Hander Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg seq-position-1.3.3-abort.svg]]} \n
        POS_HANDLER -> TOPIC_TRANSFERS: Produce message
        |||
        TOPIC_TRANSFERS <- TRANS_HANDLER: Consume message
        ref over TOPIC_EVENT, TOPIC_NOTIFICATIONS : Transfer Handler Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg 2.3.3.]]} \n
        TRANS_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    end
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action IN ['timeout-received', 'timeout-reserved']
        |||
        ref over DFSP1, TOPIC_NOTIFICATIONS : Send notification to Participant (Payer) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP1: Send callback notification
    end
    |||
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action == 'timeout-reserved'
        |||
        ref over DFSP2, TOPIC_NOTIFICATIONS : Send notification to Participant (Payee) {[[https://github.com/mojaloop/docs/blob/develop/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP2: Send callback notification
    end
end
deactivate TRANS_HANDLER
deactivate POS_HANDLER
deactivate EXP_HANDLER
deactivate NOTIFY_HANDLER
@enduml

PlantUML version 1.2018.05(Sat May 05 23:00:17 EEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>