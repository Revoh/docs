<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="652px" preserveAspectRatio="none" style="width:1110px;height:652px;" version="1.1" viewBox="0 0 1110 652" width="1110px" zoomAndPan="magnify"><defs><filter height="300%" id="fgtnrbxdlono8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="469.5" y="23.5352">7.2.1 Put Parties Details</text><rect fill="#FFFFE0" height="606.9453" style="stroke: #A80036; stroke-width: 1.0;" width="856.5" x="236.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="584.25" y="47.0566">Account Lookup Service</text><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="402.6582" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="33" y="126.9766"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="342.3477" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="320" y="187.2871"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="268.416" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="527" y="231.9082"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="137.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="333.8398"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="62.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="997" y="378.7715"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="403.9688" style="stroke: #000000; stroke-width: 2.0;" width="1086" x="13" y="133.9766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="38" x2="38" y1="116.9766" y2="554.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="324.5" x2="324.5" y1="116.9766" y2="554.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="532" x2="532" y1="116.9766" y2="554.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759" x2="759" y1="116.9766" y2="554.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1002" x2="1002" y1="116.9766" y2="554.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="23" y="114.0234">FSP</text><ellipse cx="38" cy="43.4883" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M38,51.4883 L38,78.4883 M25,59.4883 L51,59.4883 M38,78.4883 L25,93.4883 M38,78.4883 L51,93.4883 " fill="none" filter="url(#fgtnrbxdlono8)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="23" y="567.4805">FSP</text><ellipse cx="38" cy="580.4336" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M38,588.4336 L38,615.4336 M25,596.4336 L51,596.4336 M38,615.4336 L25,630.4336 M38,615.4336 L51,630.4336 " fill="none" filter="url(#fgtnrbxdlono8)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="240.5" y="114.0234">Account Lookup Service</text><path d="M304.5,72.4883 L304.5,96.4883 M304.5,84.4883 L321.5,84.4883 " fill="none" filter="url(#fgtnrbxdlono8)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="333.5" cy="84.4883" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="240.5" y="567.4805">Account Lookup Service</text><path d="M304.5,574.4336 L304.5,598.4336 M304.5,586.4336 L321.5,586.4336 " fill="none" filter="url(#fgtnrbxdlono8)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="333.5" cy="586.4336" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="477" y="114.0234">Parties Handler</text><ellipse cx="532" cy="84.4883" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="528,72.4883,534,67.4883,532,72.4883,534,77.4883,528,72.4883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="477" y="567.4805">Parties Handler</text><ellipse cx="532" cy="586.4336" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="528,574.4336,534,569.4336,532,574.4336,534,579.4336,528,574.4336" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="702" y="114.0234">Participant DAO</text><ellipse cx="759" cy="84.4883" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="747" x2="771" y1="98.4883" y2="98.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="702" y="567.4805">Participant DAO</text><ellipse cx="759" cy="586.4336" fill="#FEFECE" filter="url(#fgtnrbxdlono8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="747" x2="771" y1="600.4336" y2="600.4336"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="915" y="114.0234">Central Ledger Database</text><path d="M984,64.4883 C984,54.4883 1002,54.4883 1002,54.4883 C1002,54.4883 1020,54.4883 1020,64.4883 L1020,90.4883 C1020,100.4883 1002,100.4883 1002,100.4883 C1002,100.4883 984,100.4883 984,90.4883 L984,64.4883 " fill="#FEFECE" filter="url(#fgtnrbxdlono8)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M984,64.4883 C984,74.4883 1002,74.4883 1002,74.4883 C1002,74.4883 1020,74.4883 1020,64.4883 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="915" y="567.4805">Central Ledger Database</text><path d="M984,580.4336 C984,570.4336 1002,570.4336 1002,570.4336 C1002,570.4336 1020,570.4336 1020,580.4336 L1020,606.4336 C1020,616.4336 1002,616.4336 1002,616.4336 C1002,616.4336 984,616.4336 984,606.4336 L984,580.4336 " fill="#FEFECE" filter="url(#fgtnrbxdlono8)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M984,580.4336 C984,590.4336 1002,590.4336 1002,590.4336 C1002,590.4336 1020,590.4336 1020,580.4336 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="402.6582" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="33" y="126.9766"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="342.3477" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="320" y="187.2871"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="268.416" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="527" y="231.9082"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="137.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="754" y="333.8398"/><rect fill="#FFFFFF" filter="url(#fgtnrbxdlono8)" height="62.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="997" y="378.7715"/><path d="M13,133.9766 L179,133.9766 L179,140.9766 L169,150.9766 L13,150.9766 L13,133.9766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="403.9688" style="stroke: #000000; stroke-width: 2.0;" width="1086" x="13" y="133.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="28" y="147.5449">Put Party's Details</text><polygon fill="#A80036" points="308,183.2871,318,187.2871,308,191.2871,312,187.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="43" x2="314" y1="187.2871" y2="187.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="50" y="175.5107">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="63" y="167.8555">Request to get party's details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="63" y="183.166">PUT - /parties/{Type}/{ID}</text><polygon fill="#A80036" points="515,227.9082,525,231.9082,515,235.9082,519,231.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330" x2="521" y1="231.9082" y2="231.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="337" y="220.1318">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="350" y="212.4766">Put Party by ID and Type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="350" y="227.7871">(PartiesByTypeAndID2)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="579" y1="261.8398" y2="261.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="579" x2="579" y1="261.8398" y2="274.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="538" x2="579" y1="274.8398" y2="274.8398"/><polygon fill="#A80036" points="548,270.8398,538,274.8398,548,278.8398,544,274.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="544" y="257.0977">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="557" y="257.0977">Validate MSISDN</text><polygon fill="#A80036" points="742,329.8398,752,333.8398,742,337.8398,746,333.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="748" y1="333.8398" y2="333.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="544" y="314.7188">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="557" y="299.4082">Fetch Target Party's details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="557" y="314.7188">(handleMSISDNPartyRequest)</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="557" y="330.0293">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="634" y="330.0293">3200</text><polygon fill="#A80036" points="985,374.7715,995,378.7715,985,382.7715,989,378.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="764" x2="991" y1="378.7715" y2="378.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="771" y="366.9951">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="784" y="359.3398">Fetch Target Party Endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="784" y="374.6504">(getParticipantEndpointByName)</text><polygon fill="#FFFFE0" filter="url(#fgtnrbxdlono8)" points="938,392.3926,1066,392.3926,1076,403.3926,1066,415.3926,938,415.3926,928,403.3926,938,392.3926" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="940" y="408.9609">participantEndpoint</text><polygon fill="#A80036" points="775,437.7031,765,441.7031,775,445.7031,771,441.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="769" x2="1001" y1="441.7031" y2="441.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="781" y="437.2715">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="794" y="437.2715">Return Target Party Endpoint</text><polygon fill="#A80036" points="548,467.0137,538,471.0137,548,475.0137,544,471.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="542" x2="758" y1="471.0137" y2="471.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="554" y="466.582">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="567" y="466.582">Return Target Party Endpoint</text><polygon fill="#A80036" points="341,496.3242,331,500.3242,341,504.3242,337,500.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="531" y1="500.3242" y2="500.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="347" y="495.8926">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="360" y="495.8926">Return Target Party Name</text><polygon fill="#A80036" points="49,525.6348,39,529.6348,49,533.6348,45,529.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="43" x2="324" y1="529.6348" y2="529.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="55" y="525.2031">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="68" y="525.2031">Return Result to Target Party Endpoint</text><!--
@startuml
title 7.2.1 Put Parties Details

autonumber

actor "FSP" as FSP
boundary "Account Lookup Service" as ALS
control "Parties Handler" as PARTIES_HANDLER
entity "Account Lookup Service API" as ALS
entity "Participant DAO" as PARTICIPANT_DAO
database "Central Ledger Database" as DB

box "Account Lookup Service" #LightYellow
participant ALS
participant PARTIES_HANDLER
participant PARTICIPANT_DAO
participant DB
end box


activate FSP
group Put Party's Details
    FSP -> ALS: Request to get party's details \nPUT - /parties/{Type}/{ID}
    activate ALS
    ALS -> PARTIES_HANDLER: Put Party by ID and Type \n(PartiesByTypeAndID2)
    activate PARTIES_HANDLER
    PARTIES_HANDLER ->PARTIES_HANDLER: Validate MSISDN
    PARTIES_HANDLER ->PARTICIPANT_DAO: Fetch Target Party's details \n(handleMSISDNPartyRequest)\n<color #FF0000><b>Error code:</b> 3200</color>
    activate PARTICIPANT_DAO
    PARTICIPANT_DAO -> DB: Fetch Target Party Endpoint \n(getParticipantEndpointByName)
    activate DB
    hnote over DB #lightyellow
        participantEndpoint
    end note
    DB - -> PARTICIPANT_DAO: Return Target Party Endpoint
    deactivate DB
    PARTICIPANT_DAO - -> PARTIES_HANDLER: Return Target Party Endpoint
    deactivate PARTICIPANT_DAO
    PARTIES_HANDLER -> ALS: Return Target Party Name
    deactivate PARTIES_HANDLER
    ALS - ->FSP: Return Result to Target Party Endpoint
    deactivate ALS
    deactivate FSP
end
@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1136-b20
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>